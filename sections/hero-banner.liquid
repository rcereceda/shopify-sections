{%- comment -%}
  Atomic Sections
  https://atomicsections.com
  License: MIT
  
  Hero Banner Section
  
  A full-width hero section with image or video background, perfect for
  homepages, landing pages, and campaign pages.
  
  Features:
  - Image or video background (video optional)
  - Customizable overlay with opacity control
  - Flexible content positioning (top/center/bottom, left/center/right)
  - Eyebrow text, heading, subheading
  - Up to 2 CTA buttons
  - Dynamic trust badges (unlimited via blocks)
  - Drag & drop reorderable badges
  - Fully responsive
  - Heroicons for badges
  - No external dependencies
{%- endcomment -%}

{%- liquid
  assign content_position_vertical = section.settings.content_position_vertical
  assign content_position_horizontal = section.settings.content_position_horizontal
  assign text_alignment = section.settings.text_alignment
-%}

{%- liquid
  assign text_shadow_class = ''
  if section.settings.enable_text_shadow
    assign text_shadow_class = 'has-text-shadow'
  endif
-%}

<div class="hero-banner-section" style="
  --hero-height-mobile: {{ section.settings.height_mobile }}px;
  --hero-height-desktop: {{ section.settings.height_desktop }}px;
  --overlay-color: {{ section.settings.overlay_color }};
  --overlay-opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }};
  --text-color: {{ section.settings.text_color }};
  --content-max-width: {{ section.settings.content_max_width }}px;
  --button-primary-bg: {{ section.settings.button_primary_bg }};
  --button-primary-text: {{ section.settings.button_primary_text }};
  --button-secondary-bg: {{ section.settings.button_secondary_bg }};
  --button-secondary-text: {{ section.settings.button_secondary_text }};
">
  <div class="hero-banner-container hero-height-{{ section.settings.height_desktop }}">
    {%- comment -%} Background Media {%- endcomment -%}
    <div class="hero-banner-media{% if section.settings.enable_parallax_scroll %} hero-parallax-scroll{% endif %}">
      {%- if section.settings.video != blank -%}
        {%- comment -%}
          Video Background
          Note: Videos use external URLs (RemoteAsset warning is expected).
          Shopify doesn't support video uploads to Assets due to file size.
          Users should upload to Shopify Files or use CDN URLs.
          Ambient movement is NOT applied to videos (they already have motion).
        {%- endcomment -%}
        <video
          class="hero-banner-video"
          autoplay
          loop
          muted
          playsinline
          {% if section.settings.image != blank %}
            poster="{{ section.settings.image | image_url: width: 1920 }}"
          {% endif %}
        >
          <source src="{{ section.settings.video }}" type="video/mp4">
          {%- if section.settings.image != blank -%}
            <img
              src="{{ section.settings.image | image_url: width: 1920 }}"
              width="{{ section.settings.image.width }}"
              height="{{ section.settings.image.height }}"
              alt="{{ section.settings.heading | escape }}"
              loading="lazy"
            >
          {%- endif -%}
        </video>
      {%- elsif section.settings.image != blank -%}
        {%- comment -%} Image Background - Respects focal point set in theme editor {%- endcomment -%}
        {%- assign focal_point = section.settings.image.presentation.focal_point | default: '50% 50%' -%}
        <img
          src="{{ section.settings.image | image_url: width: 1920 }}"
          srcset="{{ section.settings.image | image_url: width: 375 }} 375w,
                  {{ section.settings.image | image_url: width: 750 }} 750w,
                  {{ section.settings.image | image_url: width: 1100 }} 1100w,
                  {{ section.settings.image | image_url: width: 1500 }} 1500w,
                  {{ section.settings.image | image_url: width: 1920 }} 1920w"
          sizes="100vw"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.height }}"
          alt="{{ section.settings.heading | escape }}"
          class="hero-banner-image{% if section.settings.enable_ambient_movement %} hero-ambient-animation{% endif %}"
          style="object-position: {{ focal_point }};"
          loading="lazy"
        >
      {%- else -%}
        {%- comment -%} Placeholder {%- endcomment -%}
        <div class="hero-banner-placeholder">
          {{ 'lifestyle-1' | placeholder_svg_tag: 'hero-banner-placeholder-svg' }}
        </div>
      {%- endif -%}

      {%- comment -%} Overlay {%- endcomment -%}
      <div class="hero-banner-overlay"></div>
    </div>

    {%- comment -%} Content {%- endcomment -%}
    <div class="hero-banner-content-wrapper hero-content-vertical-{{ content_position_vertical }} hero-content-horizontal-{{ content_position_horizontal }}">
      <div class="hero-banner-content hero-text-{{ text_alignment }}">
        {%- if section.settings.eyebrow != blank -%}
          <p class="hero-eyebrow {{ text_shadow_class }}">{{ section.settings.eyebrow }}</p>
        {%- endif -%}

        {%- if section.settings.heading != blank -%}
          <h1 class="hero-heading {{ text_shadow_class }}">{{ section.settings.heading }}</h1>
        {%- endif -%}

        {%- if section.settings.subheading != blank -%}
          <div class="hero-subheading {{ text_shadow_class }}">{{ section.settings.subheading }}</div>
        {%- endif -%}

        {%- comment -%} Buttons: Show if enabled AND has label AND link {%- endcomment -%}
        {%- assign show_button_1 = false -%}
        {%- assign show_button_2 = false -%}
        
        {%- if section.settings.show_button_1 and section.settings.button_label_1 != blank and section.settings.button_link_1 != blank -%}
          {%- assign show_button_1 = true -%}
        {%- endif -%}
        
        {%- if section.settings.show_button_2 and section.settings.button_label_2 != blank and section.settings.button_link_2 != blank -%}
          {%- assign show_button_2 = true -%}
        {%- endif -%}

        {%- if show_button_1 or show_button_2 -%}
          <div class="hero-buttons">
            {%- if show_button_1 -%}
              <a href="{{ section.settings.button_link_1 }}" class="hero-button hero-button-primary">
                {{ section.settings.button_label_1 }}
              </a>
            {%- endif -%}

            {%- if show_button_2 -%}
              <a href="{{ section.settings.button_link_2 }}" class="hero-button hero-button-secondary">
                {{ section.settings.button_label_2 }}
              </a>
            {%- endif -%}
          </div>
        {%- endif -%}

        {%- comment -%} Social Proof Blocks (Badges or Testimonial) {%- endcomment -%}
        {%- if section.blocks.size > 0 -%}
          {%- for block in section.blocks -%}
            {%- if block.type == 'testimonial' -%}
              {%- comment -%} Featured Testimonial {%- endcomment -%}
              <div class="hero-testimonial" {{ block.shopify_attributes }}>
                {%- if block.settings.rating > 0 -%}
                  <div class="hero-testimonial-stars">
                    {%- for i in (1..5) -%}
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="{% if i <= block.settings.rating %}currentColor{% else %}none{% endif %}" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
                      </svg>
                    {%- endfor -%}
                  </div>
                {%- endif -%}

                {%- if block.settings.quote != blank -%}
                  <blockquote class="hero-testimonial-quote">
                    "{{ block.settings.quote }}"
                  </blockquote>
                {%- endif -%}

                <div class="hero-testimonial-author">
                  {%- if block.settings.image != blank -%}
                    <img
                      src="{{ block.settings.image | image_url: width: 100 }}"
                      alt="{{ block.settings.author_name }}"
                      class="hero-testimonial-image"
                      width="48"
                      height="48"
                      loading="lazy"
                    >
                  {%- endif -%}
                  <div class="hero-testimonial-info">
                    {%- if block.settings.author_name != blank -%}
                      <cite class="hero-testimonial-name">{{ block.settings.author_name }}</cite>
                    {%- endif -%}
                    {%- if block.settings.author_title != blank -%}
                      <span class="hero-testimonial-title">{{ block.settings.author_title }}</span>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            {%- endif -%}
          {%- endfor -%}

          {%- comment -%} Trust Badges {%- endcomment -%}
          <div class="hero-badges">
            {%- for block in section.blocks -%}
              {%- if block.type == 'badge' -%}
                <div class="hero-badge-item" {{ block.shopify_attributes }}>
                  {%- if block.settings.icon != 'none' -%}
                    <div class="hero-badge-icon">
                      {%- case block.settings.icon -%}
                        {%- when 'shipping' -%}
                          {%- comment -%} Heroicons: truck {%- endcomment -%}
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" />
                          </svg>
                        {%- when 'guarantee' -%}
                          {%- comment -%} Heroicons: shield-check {%- endcomment -%}
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z" />
                          </svg>
                        {%- when 'quality' -%}
                          {%- comment -%} Heroicons: star {%- endcomment -%}
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
                          </svg>
                        {%- when 'support' -%}
                          {%- comment -%} Heroicons: chat-bubble-left-right {%- endcomment -%}
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
                          </svg>
                        {%- when 'returns' -%}
                          {%- comment -%} Heroicons: arrow-path {%- endcomment -%}
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                          </svg>
                      {%- endcase -%}
                    </div>
                  {%- endif -%}
                  <span>{{ block.settings.text }}</span>
                </div>
              {%- endif -%}
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% stylesheet %}
  .hero-banner-section {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  .hero-banner-container {
    position: relative;
    width: 100%;
    height: var(--hero-height-mobile);
    min-height: 400px;
  }

  /* Background Media */
  .hero-banner-media {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  /* Parallax Scroll Effect - Creates depth by fixing image position */
  .hero-parallax-scroll {
    clip-path: inset(0);
  }

  .hero-parallax-scroll .hero-banner-video,
  .hero-parallax-scroll .hero-banner-image {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
  }

  .hero-banner-video,
  .hero-banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    background-color: #f5f5f5;
    transition: filter 0.3s ease;
  }

  /* Blur effect while loading (images and videos) */
  .hero-banner-image:not(.loaded),
  .hero-banner-video:not(.loaded) {
    filter: blur(10px);
  }

  .hero-banner-image.loaded,
  .hero-banner-video.loaded {
    filter: blur(0);
  }

  /* Ambient Movement Effect - Subtle circular motion */
  @media (prefers-reduced-motion: no-preference) {
    .hero-ambient-animation {
      animation: heroAmbientMovement 30s linear infinite;
    }

    @keyframes heroAmbientMovement {
      0% {
        transform: rotate(0deg) translateX(1em) rotate(0deg) scale(1.2);
      }
      100% {
        transform: rotate(360deg) translateX(1em) rotate(-360deg) scale(1.2);
      }
    }
  }

  /* Disable animations for users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .hero-ambient-animation {
      animation: none;
      transform: scale(1.05);
    }
  }

  .hero-banner-placeholder {
    width: 100%;
    height: 100%;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-banner-placeholder-svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.3;
  }

  /* Overlay */
  .hero-banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--overlay-color);
    opacity: var(--overlay-opacity);
    z-index: 2;
  }

  /* Content Wrapper */
  .hero-banner-content-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
    display: flex;
    padding: 40px 20px;
  }

  /* Vertical Positioning */
  .hero-content-vertical-top {
    align-items: flex-start;
  }

  .hero-content-vertical-center {
    align-items: center;
  }

  .hero-content-vertical-bottom {
    align-items: flex-end;
  }

  /* Horizontal Positioning */
  .hero-content-horizontal-left {
    justify-content: flex-start;
  }

  .hero-content-horizontal-center {
    justify-content: center;
  }

  .hero-content-horizontal-right {
    justify-content: flex-end;
  }

  /* Content */
  .hero-banner-content {
    max-width: var(--content-max-width);
    width: 100%;
    color: var(--text-color);
  }

  /* Text Alignment */
  .hero-text-left {
    text-align: left;
  }

  .hero-text-center {
    text-align: center;
  }

  .hero-text-right {
    text-align: right;
  }

  /* Eyebrow */
  .hero-eyebrow {
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 16px 0;
    opacity: 0.9;
  }

  /* Heading */
  .hero-heading {
    font-size: 32px;
    font-weight: 700;
    line-height: 1.2;
    margin: 0 0 20px 0;
  }

  /* Subheading */
  .hero-subheading {
    font-size: 16px;
    line-height: 1.6;
    margin: 0 0 28px 0;
    opacity: 0.95;
  }

  /* Text Shadow (Optional) */
  .has-text-shadow.hero-eyebrow {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .has-text-shadow.hero-heading {
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
  }

  .has-text-shadow.hero-subheading {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
  }

  /* Buttons */
  .hero-buttons {
    display: flex;
    gap: 12px;
    margin-bottom: 0;
    flex-wrap: wrap;
  }

  .hero-text-center .hero-buttons {
    justify-content: center;
  }

  .hero-text-right .hero-buttons {
    justify-content: flex-end;
  }

  .hero-button {
    display: inline-block;
    padding: 14px 28px;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.2s ease;
    cursor: pointer;
    border: 2px solid transparent;
  }

  .hero-button-primary {
    background-color: var(--button-primary-bg);
    color: var(--button-primary-text);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .hero-button-primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
  }

  .hero-button-secondary {
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-text);
    border-color: var(--button-secondary-text);
  }

  .hero-button-secondary:hover {
    opacity: 0.85;
  }

  /* Mini Badges */
  .hero-badges {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    margin-top: 24px;
  }

  .hero-text-center .hero-badges {
    justify-content: center;
  }

  .hero-text-right .hero-badges {
    justify-content: flex-end;
  }

  .hero-badge-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 500;
  }

  .hero-badge-icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
  }

  .hero-badge-icon svg {
    width: 100%;
    height: 100%;
  }

  /* Featured Testimonial */
  .hero-testimonial {
    margin-top: 32px;
    padding: 14px 16px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 6px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.12);
    max-width: 600px;
  }

  .hero-text-center .hero-testimonial {
    margin-left: auto;
    margin-right: auto;
  }

  .hero-text-right .hero-testimonial {
    margin-left: auto;
  }

  .hero-testimonial-stars {
    display: flex;
    gap: 3px;
    margin-bottom: 10px;
  }

  .hero-text-center .hero-testimonial-stars {
    justify-content: center;
  }

  .hero-text-right .hero-testimonial-stars {
    justify-content: flex-end;
  }

  .hero-testimonial-stars svg {
    width: 14px;
    height: 14px;
  }

  .hero-testimonial-quote {
    font-size: 13px;
    line-height: 1.5;
    font-style: italic;
    margin: 0 0 10px 0;
    font-weight: 400;
    opacity: 0.9;
  }

  .hero-testimonial-author {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .hero-text-center .hero-testimonial-author {
    justify-content: center;
  }

  .hero-text-right .hero-testimonial-author {
    justify-content: flex-end;
  }

  /* Hide author section if no name */
  .hero-testimonial-author:empty {
    display: none;
  }

  .hero-testimonial-image {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
  }

  .hero-testimonial-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  /* If no image, center the text */
  .hero-testimonial-author:not(:has(img)) .hero-testimonial-info {
    text-align: inherit;
  }

  .hero-testimonial-name {
    font-size: 13px;
    font-weight: 600;
    font-style: normal;
  }

  .hero-testimonial-title {
    font-size: 12px;
    opacity: 0.75;
  }

  /* Mobile: stack badges vertically and full-width buttons */
  @media (max-width: 767px) {
    .hero-buttons {
      flex-direction: column;
      width: 100%;
    }

    .hero-button {
      width: 100%;
      text-align: center;
    }

    .hero-badges {
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
  }

  /* Desktop Styles */
  @media (min-width: 768px) {
    .hero-banner-container {
      height: var(--hero-height-desktop);
    }

    .hero-banner-content-wrapper {
      padding: 60px 40px;
    }

    .hero-eyebrow {
      font-size: 16px;
      margin-bottom: 20px;
    }

    .hero-heading {
      font-size: 56px;
      margin-bottom: 24px;
    }

    .hero-subheading {
      font-size: 20px;
      margin-bottom: 36px;
    }

    .hero-buttons {
      gap: 16px;
      margin-bottom: 0;
    }

    .hero-button {
      padding: 16px 32px;
      font-size: 18px;
    }

    .hero-badges {
      gap: 32px;
      margin-top: 40px;
    }

    .hero-badge-item {
      font-size: 15px;
    }

    .hero-badge-icon {
      width: 22px;
      height: 22px;
    }

    .hero-testimonial {
      padding: 16px 20px;
      margin-top: 40px;
    }

    .hero-testimonial-stars svg {
      width: 15px;
      height: 15px;
    }

    .hero-testimonial-quote {
      font-size: 14px;
      margin-bottom: 14px;
    }

    .hero-testimonial-image {
      width: 44px;
      height: 44px;
    }

    .hero-testimonial-name {
      font-size: 13px;
    }

    .hero-testimonial-title {
      font-size: 12px;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Hero Banner",
  "version": "1.0.0",
  "tag": "section",
  "class": "section-hero-banner",
  "settings": [
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Background image",
      "info": "Recommended: 1920x800px or larger"
    },
    {
      "type": "url",
      "id": "video",
      "label": "Video URL (optional)",
      "info": "MP4 format recommended. Leave empty to use image only."
    },
    {
      "type": "header",
      "content": "Image Effects"
    },
    {
      "type": "checkbox",
      "id": "enable_parallax_scroll",
      "label": "Enable parallax on scroll",
      "info": "Creates depth effect as you scroll. Works best with images.",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_ambient_movement",
      "label": "Enable ambient movement",
      "info": "Adds subtle circular motion to the image when idle.",
      "default": false
    },
    {
      "type": "header",
      "content": "Overlay"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "default": 40
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "checkbox",
      "id": "enable_text_shadow",
      "label": "Enable text shadow",
      "info": "Adds subtle shadow to text for better readability over complex backgrounds",
      "default": false
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow text",
      "default": "New Collection"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome to Our Store"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Discover our latest products and exclusive offers</p>"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Buttons"
    },
    {
      "type": "checkbox",
      "id": "show_button_1",
      "label": "Show button 1",
      "default": true
    },
    {
      "type": "text",
      "id": "button_label_1",
      "label": "Button 1 label",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link_1",
      "label": "Button 1 link"
    },
    {
      "type": "checkbox",
      "id": "show_button_2",
      "label": "Show button 2",
      "default": true
    },
    {
      "type": "text",
      "id": "button_label_2",
      "label": "Button 2 label",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link_2",
      "label": "Button 2 link"
    },
    {
      "type": "header",
      "content": "Button Colors"
    },
    {
      "type": "color",
      "id": "button_primary_bg",
      "label": "Button 1 background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_primary_text",
      "label": "Button 1 text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_secondary_bg",
      "label": "Button 2 background",
      "default": "rgba(255, 255, 255, 0)"
    },
    {
      "type": "color",
      "id": "button_secondary_text",
      "label": "Button 2 text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "content_position_vertical",
      "label": "Vertical position",
      "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "content_position_horizontal",
      "label": "Horizontal position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "content_max_width",
      "label": "Content max width",
      "min": 400,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "default": 700
    },
    {
      "type": "range",
      "id": "height_mobile",
      "label": "Height (mobile)",
      "min": 400,
      "max": 700,
      "step": 50,
      "unit": "px",
      "default": 500
    },
    {
      "type": "range",
      "id": "height_desktop",
      "label": "Height (desktop)",
      "min": 400,
      "max": 900,
      "step": 50,
      "unit": "px",
      "default": 650
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "Trust Badge",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "shipping",
              "label": "Free Shipping"
            },
            {
              "value": "guarantee",
              "label": "Money-Back Guarantee"
            },
            {
              "value": "support",
              "label": "24/7 Support"
            },
            {
              "value": "quality",
              "label": "Premium Quality"
            },
            {
              "value": "returns",
              "label": "Easy Returns"
            }
          ],
          "default": "shipping"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "Free Shipping"
        }
      ]
    },
    {
      "type": "testimonial",
      "name": "Featured Testimonial",
      "limit": 1,
      "settings": [
        {
          "type": "range",
          "id": "rating",
          "min": 0,
          "max": 5,
          "step": 1,
          "label": "Star rating",
          "default": 5,
          "info": "Set to 0 to hide stars"
        },
        {
          "type": "textarea",
          "id": "quote",
          "label": "Testimonial quote",
          "default": "The quality is outstanding and the customer service was excellent."
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Customer photo",
          "info": "Optional - leave empty for text-only testimonial"
        },
        {
          "type": "text",
          "id": "author_name",
          "label": "Customer name",
          "default": "Sarah Johnson"
        },
        {
          "type": "text",
          "id": "author_title",
          "label": "Customer title/company",
          "info": "Optional - leave empty to hide"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Banner",
      "category": "Custom",
      "settings": {
        "button_link_1": "/collections/all",
        "button_link_2": "/pages/about"
      },
      "blocks": [
        {
          "type": "testimonial",
          "settings": {
            "rating": 5,
            "quote": "The quality is outstanding and the customer service was excellent.",
            "author_name": "Sarah Johnson",
            "author_title": ""
          }
        }
      ]
    }
  ]
}
{% endschema %}

<script>
  // Progressive loading with blur effect (images and videos)
  function initHeroBlurEffect() {
    // Handle images
    const heroImages = document.querySelectorAll('.hero-banner-image');
    heroImages.forEach(function(img) {
      if (img.complete) {
        img.classList.add('loaded');
      } else {
        img.addEventListener('load', function() {
          img.classList.add('loaded');
        });
      }
    });

    // Handle videos
    const heroVideos = document.querySelectorAll('.hero-banner-video');
    heroVideos.forEach(function(video) {
      if (video.readyState >= 3) { // HAVE_FUTURE_DATA or better
        video.classList.add('loaded');
      } else {
        video.addEventListener('canplay', function() {
          video.classList.add('loaded');
        });
      }
    });
  }

  // Run on page load
  document.addEventListener('DOMContentLoaded', initHeroBlurEffect);

  // Run when section is reloaded in the Shopify editor
  document.addEventListener('shopify:section:load', initHeroBlurEffect);
</script>
